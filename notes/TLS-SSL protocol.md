---
layout: page
permalink: notes/tls-ssl-protocol
tags: italian
title: TLS-SSL protocol
---

First time we talked about this was in [Sicurezza delle reti#Protocollo SSL](/notes/sicurezza-delle-reti#protocollo-ssl)


## SSL

Secure socket Layer

### Principles

#### Session
It's an association (probably something similar to SA in [Sicurezza delle reti](/notes/sicurezza-delle-reti)). That connects the client to the server.
Defines the cryptographic parameters to allow the communication.

Stuff for session:
- **Session identifier**: generated by the server to identify an active or resumable session.
- **Peer certificate**: X 509v3 certificate.
- **Compression method**: algorithm used to compress the data before encryption.
- **Cipher spec**: encryption and hash algorithm, including hash size.
- **Master secret**: 48 byte secret shared between the client and server.
- **Is resumable**: indicates if the session can be used to initiate new connections.
#### Connection

- **Server and client**: random chosen for each connection. Server write MAC secret: shared key used to computeMAC on data sent by the server.

- Client write MAC secret: same as above for the clientServer write key: shared key used by encryption whenserver sends data.

Client write key: same as above for the client.Initialization vector: initialization vectors required byencryption.

Sequence numbers: both server and client maintain such a counter to prevent replay, cycle is $$2^{64} - 1$$
### The SSL record
<img src="/images/notes/TLS-SSL protocol-20240404173824939.webp" alt="TLS-SSL protocol-20240404173824939">

### Alerts
They are two bytes used for error/warning information.

## TLS handshake protocol

TLS stands for 

This works at the **process layer** to ensure security from the protocol perspective. It's more granular because it is out of the ISO/OSI stack.

#### Properties
Two of the tree principles in [Secury Principles and Tor#Security principles](/notes/secury-principles-and-tor#security-principles) are done with this. Integrity and Confidentiality. Auth is implemented at the application layer.

### Exchange of keys

It's important, TLS uses a **symmetric** key to communicate after communication is enstablished.

#### Exchange protocol
Just use common exchange protocols!
- Diffie Hellman
- RSA

And variations are some examples

#### Authenticity of certificates
CA's are used to exchange the security keys securely. This is the default, historically there have been some attacks on this method

Other options could be just self sign the certificate and exchange that signed thing (needs other things, like manual operations to validate and trust it).